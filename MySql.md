## MySql

- [为什么 MySQL 使用 B+树作为索引的数据结构？](#1)
- [关系型和非关系型数据库的区别（各自优点）](#2)
- [数据库的索引类型](#3)
- [聚集索引和非聚集索引的区别（叶节点存储内容）](#5)
- [4 唯一性索引和主码索引的区别](#6)
- [](#)
- [](#)
- [](#)
- [](#)
- [](#)
- [](#)
- [](#)
- [](#)
- [](#)

<h3 id="1">为什么MySQL使用B+树作为索引的数据结构？</h3>

---

哈希表，红黑树，B 树，B+树的区别：

1. 哈希表：哈希表的数据存储是无序的，对于单条数据查找有优势，对于范围查找需要全表扫描，这将非常糟糕。
2. 红黑树：高度平衡的二叉查找树，红黑树的所有规则都是为了保持平衡，而且子节点只能有两个，我们知道树的高度与磁盘 io 的次数成正比，所以数据量大的话，红黑树就没有任何优势。
3. B 树：B 树的子节点可以有很多个，但是 B 树的数据都是存储在叶子结点中，需要查找到叶子结点后才能取出数据，所以树的高度就是磁盘 io 的次数。
4. B+树：B+树是 B 树的变种，每一个叶子节点都包含指向下一个叶子节点的指针，从而方便叶子节点的范围遍历。

另一方面，在磁盘存储上，B 树和 B+树有着天然的优势，内存和磁盘的数据交换不是以字节为单位的，而是以 N 个扇区(一个扇区为 512 字节)为单位，一般为 8 个扇区(4KB)为单位。而 B 树和 B+树可以将每个节点设置为 4KB 大小， 那么读取一个节点只需要一次磁盘 IO，大大提高了效率。

<h3 id="2">关系型和非关系型数据库的区别（各自优点）</h3>

---

关系型数据库是简单的表结构  
优点：易于维护，使用方便，直接用 sql 语句进行查询，支持复杂的多表的连接查询。  
缺点：读写性能差，尤其是面对海量数据的高效率读写；固定的表结构，灵活性差；高并发读写需求，面临硬盘 I/O 的瓶颈。
非关系型数据库：（包括四种：键值存储数据库 Redis，列存储数据库 HBase，文档数据库 MongoDB CoachDB，图形数据库 IinforGrid）
优点：格式灵活，支持以上四种格式；速度快；扩展性好；容易部署。  
缺点：不支持事务，不支持 sql，不利于对复杂的查询。

<h3 id="3">数据库的索引类型</h3>

---

- 唯一索引：每一个索引对应唯一的数据记录
- 主键索引：以主键作为索引
- 聚集索引：索引的顺序和数据存储的物理顺序是相同的

<h3 id="4">聚集索引和非聚集索引的区别（叶节点存储内容）</h3>

---

- 聚集索引：表数据按照索引的顺序存储，索引的顺序和表中记录的物理顺序一致。叶子节点存储了真实的数据行，不再有另外单独的数据页。（类似于新华字典中按照拼音目录（字母+声调））一张表中最多只能创建一个聚集索引，因为真实数据的物理顺序只能有一种。
- 非聚集索引：索引的逻辑顺序和数据存储的物理顺序无关（类似于新华字典中的偏旁目录），叶子节点包含索引字段值及指向数据页数据行的逻辑指针，其行数量与数据表行数据量一致。

<h3 id="5">唯一性索引和主码索引的区别</h3>

---

- 主键索引只能创建一个，唯一索引可以创建多个
- 主键索引列不能是空值，唯一索引列可以为空值
- 主键索引严格来讲就是表的主键，是一种约束；唯一索引是一种索引，它是一种数据结构，二者有本质的差别
- 主键索引可以作为其他表的外键，而唯一索引不可以
- 主键一定会创建一个唯一索引，但有唯一索引的列不一定是主键

<h3 id=""></h3>

---

<h3 id=""></h3>

---

<h3 id=""></h3>

---

<h3 id=""></h3>

---

<h3 id=""></h3>

---

<h3 id=""></h3>

---

<h3 id=""></h3>

---

<h3 id=""></h3>

---
